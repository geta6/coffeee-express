{
  "name": "connect-assets",
  "version": "2.4.2",
  "author": {
    "name": "Andrew Dunkman",
    "email": "andrew@dunkman.org"
  },
  "description": "A Rails-like asset pipeline for Connect",
  "contributors": [
    {
      "name": "Trevor Burnham",
      "email": "trevorburnham@gmail.com",
      "url": "http://trevorburnham.com/"
    },
    {
      "name": "Andrew Dunkman",
      "email": "andrew@dunkman.org"
    },
    {
      "name": "Dusty Burwell",
      "email": "dustyburwell@gmail.com"
    },
    {
      "name": "Blake VanLandingham",
      "email": "blakevanlan@gmail.com"
    }
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/adunkman/connect-assets.git"
  },
  "engines": {
    "node": ">=0.8.0"
  },
  "main": "lib/assets.js",
  "dependencies": {
    "connect-file-cache": "0.2.5",
    "snockets": "1.3.8"
  },
  "devDependencies": {
    "async": "0.1.14",
    "coffee-script": "~1.3.1",
    "connect": "1.8.5",
    "nib": "0.2.0",
    "bootstrap-stylus": "0.2.0",
    "nodeunit": "0.7.4",
    "stylus": "0.22.2",
    "request": "2.1.1",
    "watchit": "0.0.4",
    "less": "1.3.0",
    "docco": "~0.4.0"
  },
  "scripts": {
    "test": "cake test"
  },
  "readme": "# connect-assets\r\n\r\n[![Build Status](https://travis-ci.org/adunkman/connect-assets.png?branch=master)](https://travis-ci.org/adunkman/connect-assets)\r\n\r\nTransparent file compilation and dependency management for Node's [connect](https://github.com/senchalabs/connect) framework in the spirit of the Rails 3.1 asset pipeline.\r\n\r\n## The state of the package\r\n\r\nAs of February 21, 2013, @adunkman became the maintainer of this package. The game plan is as follows:\r\n- Address critical issues with version 2.x (master branch) to take care of the open pull requests/issues.\r\n- Begin a version 3.x (v3 branch) that introduces stronger tests and code structure to make contributing easier to manage, reducing dependencies as possible.\r\n\r\n## Plans for version 3.0\r\n\r\n* Rewrite in JS\r\n* Cleaner code\r\n    * Shorter files\r\n    * Better defined responsibilities\r\n* No singleton\r\n* Replace connect-file-cache\r\n* Look for replacment for Snockets\r\n* Remove dependence on underscore\r\n* Remove dependence on mime\r\n* Write tests in mocha\r\n* Remove Cakefile\r\n\r\n## What?\r\n\r\nconnect-assets can:\r\n\r\n1. Serve `.coffee` ([CoffeeScript](http://coffeescript.org)) files as compiled `.js`\r\n1. Concatenate `.coffee` and `.js` together using [Snockets](https://github.com/TrevorBurnham/snockets)\r\n1. Serve `.styl` ([Stylus](http://learnboost.github.com/stylus/)) as compiled `.css` with\r\n    -  [nib](https://github.com/visionmedia/nib)\r\n    -  [Twitter Bootstrap](https://github.com/shomeya/bootstrap-stylus)\r\n1. Serve `.less` ([Less](http://lesscss.org/)) as compiled `.css` with\r\n    - [Twitter Bootstrap](https://github.com/twitter/bootstrap)\r\n1. Serve files with an MD5 hash suffix and use a far-future expires header for maximum efficiency\r\n1. Avoid redundant git diffs by storing compiled `.js` and `.css` files in memory rather than writing them to the disk—except when you want them (e.g. for deployment to a CDN).\r\n\r\n## How?\r\n\r\nFirst, install it in your project's directory:\r\n\r\n    npm install connect-assets\r\n\r\nAlso install any specific compilers you'll need, e.g.:\r\n\r\n    npm install coffee-script\r\n    npm install stylus\r\n    npm install nib\r\n    npm install bootstrap-stylus\r\n    npm install less\r\n\r\nThen add this line to your app's configuration:\r\n\r\n    app.use require('connect-assets')()\r\n\r\nFinally, create an `assets` directory in your project and throw all your `.coffee` files in /assets/js and `.styl`, `.less` files in /assets/css.\r\n\r\n### Markup functions\r\n\r\nconnect-assets provides two global functions named `js` and `css`. Use them in your views. They tell connect-assets to do any necessary compilation, then return the markup you need. For instance, in a [Jade template](http://jade-lang.com/), the code\r\n\r\n    != css('normalize')\r\n    != js('jquery')\r\n\r\n(where `!= is Jade's syntax for running JS and displaying its output) results in the markup\r\n\r\n    <link rel=\"stylesheet\" href=\"/css/normalize.css\" />\r\n    <script src=\"/js/jquery.js\"></script>\r\n\r\n### Sprockets-style concatenation\r\n\r\nYou can indicate dependencies in your CoffeeScript files using the Sprockets-style syntax\r\n\r\n    #= require dependency\r\n\r\n(or `//= require dependency` in JavaScript). When you do so, and point the `js` function at that file, two things can happen:\r\n\r\n1. By default, you'll get multiple `<script>` tags out, in an order that gives you all of your dependencies.\r\n2. If you passed the `build: true` option to connect-assets (enabled by default when `process.env.NODE_ENV == 'production'`), you'll just get a single tag, wich will point to a JavaScript file that encompasses the target's entire dependency graph—compiled, concatenated, and minified (with [UglifyJS](https://github.com/mishoo/UglifyJS)).\r\n\r\nIf you want to bring in a whole folder of scripts, use\r\n\r\n    #= require_tree dir\r\n\r\nSee [Snockets](http://github.com/TrevorBurnham/snockets) for more information.\r\n\r\n**Note:** CSS concatenation is not supported by connect-assets directly, because Stylus and Less already do a fine job of this. Stylus and Less are basically supersets of CSS, so just rename your `.css` files to `.styl` or `.less` and learn about the @import ([Stylus](http://learnboost.github.com/stylus/docs/import.html), [Less](http://lesscss.org/#-importing)) syntax.\r\n\r\n## Options\r\n\r\nIf you like, you can pass any of these options to the function returned by `require('connect-assets')`:\r\n\r\n* `src` (defaults to `'assets'`): The directory assets will be read from\r\n* `helperContext` (defaults to `global`): The object the `css` and `js` helper functions will attach to\r\n* `buildDir` (defaults to `builtAssets`): Writes built asset files to disk using this directory in `production` environment, set to `false` to disable\r\n* ... see the source (`src/assets.coffee`) for more.\r\n\r\nYou can also set the \"root path\" on the `css` and `js` helper functions (by default, `/css` and `/js`), e.g.\r\n\r\n    css.root = '/stylesheets'\r\n    js.root  = '/javascripts'\r\n\r\nTo override these roots, start a path with `'/'`. So, for instance,\r\n\r\n    css('style.css')\r\n\r\ngenerates\r\n\r\n    <link rel='stylesheet' href='/css/style.css'>\r\n\r\nwhile\r\n\r\n    css('/style.css')\r\n\r\ngives you\r\n\r\n    <link rel='stylesheet' href='/style.css'>\r\n\r\n## Generated documentation \r\n\r\nThere is generated documentation (created with [docco](http://jashkenas.github.com/docco/)) available [here](http://adunkman.github.com/connect-assets/).\r\n\r\n## Credits\r\n\r\nBorrows heavily from Connect's [compiler](https://github.com/senchalabs/connect/blob/1.6.4/lib/middleware/compiler.js) and [static](https://github.com/senchalabs/connect/blob/1.6.4/lib/middleware/static.js) middlewares, and of course sstephenson's [Sprockets](https://github.com/sstephenson/sprockets).\r\n\r\nLook at these [awesome people](https://github.com/adunkman/connect-assets/contributors) who make this project possible.",
  "readmeFilename": "README.md",
  "_id": "connect-assets@2.4.2",
  "_from": "connect-assets@*"
}
